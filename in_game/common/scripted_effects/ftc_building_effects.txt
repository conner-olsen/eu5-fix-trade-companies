# Transfer the ownership of a building to a TC subject in a region, if one exists
# ROOT: building
ftc_transfer_ownership = {
	location.region = {
		save_temporary_scope_as = building_region
	}
	owner = {
		every_subject = {
			limit = {
				has_variable = trade_company_home_region
				var:trade_company_home_region = scope:building_region
			}
			save_temporary_scope_as = new_owner
		}
	}
	if = {
		limit = {
			exists = scope:new_owner
		}
		change_building_owner = scope:new_owner
	}
}

# Transfers ownership to appropriate subject if present
# ROOT: building
# ARGS: building_type
ftc_company_building_on_built = {
	ftc_transfer_ownership = yes
}
